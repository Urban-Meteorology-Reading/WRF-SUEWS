{
    "Registry.EM_COMMON":{
        "filePath": "./WRF/Registry/",
        "query" :{ "package   ssibscheme     sf_surface_physics==8":"package   suewsscheme    sf_surface_physics==9       -             state:LAI_SUEWS,albDecTr_SUEWS,albEveTr_SUEWS,albGrass_SUEWS,DecidCap_SUEWS,porosity_SUEWS,GDD_SUEWS,HDD_SUEWS,state_SUEWS,soilmoist_SUEWS,surf_var_SUEWS,landusef_SUEWS,alb_SUEWS,emis_SUEWS,qn1_av_SUEWS,qn1_s_SUEWS,dqndt_SUEWS,dqnsdt_SUEWS,MeltWaterStore,SnowAlb,WUDay,z0m_in,zdm_in",
                   "config   real    dt                      derived              max_domains    2.":"rconfig   real    dt_prev                 derived              max_domains    2.      h     \"dt_prev\"   \"TEMPORAL RESOLUTION\"      \"SECONDS\""
        }
    },

    "Registry.EM":{
        "filePath": "./WRF/Registry/",
        "query" :{ "include registry.dimspec":"include registry.suews"
        }
    },



    "module_check_a_mundo.F":{
        "filePath": "./WRF/share/",
        "query" :{ "ELSE IF (   model_config_rec % sf_surface_physics(1) .EQ. SLABSCHEME   ) THEN":"         model_config_rec % num_soil_layers = 5\n      ELSE IF (   model_config_rec % sf_surface_physics(1) .EQ. SUEWSSCHEME   ) THEN"
        }
    },

    "start_em.F":{
        "filePath": "./WRF/dyn_em/",
        "query" :{ ",grid%QKE":"                      ,grid%landusef_SUEWS                                    &\n                      ,grid%alb_SUEWS                                         &\n                      ,grid%emis_SUEWS                                        &\n                      ,grid%qn1_av_SUEWS                                      &\n                      ,grid%qn1_s_SUEWS                                       &\n                      ,grid%dqndt_SUEWS                                       &\n                      ,grid%dqnsdt_SUEWS                                      &"
        }
    },

    "module_physics_init.F":{
        "filePath": "./WRF/phys/",
        "query" :{ ",QKE":"                         ,landusef_SUEWS                                    &\n                         ,alb_SUEWS                                         &\n                         ,emis_SUEWS                                        &\n                         ,qn1_av_SUEWS                                      &\n                         ,qn1_s_SUEWS                                       &\n                         ,dqndt_SUEWS                                       &\n                         ,dqnsdt_SUEWS                                      &",
                   "REAL,     DIMENSION(1:num_soil_layers),      INTENT(INOUT) :: ZS,DZS":"   REAL,OPTIONAL,DIMENSION(ims:ime,7,jms:jme),INTENT(INOUT)                 :: landusef_SUEWS\n   REAL,OPTIONAL,DIMENSION(ims:ime,7,jms:jme),INTENT(INOUT)                 :: alb_SUEWS\n   REAL,OPTIONAL,DIMENSION(ims:ime,7,jms:jme),INTENT(INOUT)                 :: emis_SUEWS\n   REAL,OPTIONAL,DIMENSION(ims:ime,jms:jme),INTENT(INOUT)                   :: qn1_av_SUEWS\n   REAL,OPTIONAL,DIMENSION(ims:ime,jms:jme),INTENT(INOUT)                   :: qn1_s_SUEWS\n   REAL,OPTIONAL,DIMENSION(ims:ime,jms:jme),INTENT(INOUT)                   :: dqndt_SUEWS\n   REAL,OPTIONAL,DIMENSION(ims:ime,jms:jme),INTENT(INOUT)                   :: dqnsdt_SUEWS",
                   "                SFCEVP,GRDFLX,":"                lu_state,                                       &\n                julday,                                         &\n                cen_lat,                                        &\n                landusef_SUEWS,                                 &\n                alb_SUEWS,                                      &\n                emis_SUEWS,                                     &\n                qn1_av_SUEWS,                                   &\n                qn1_s_SUEWS,                                    &\n                dqndt_SUEWS,                                    &\n                dqnsdt_SUEWS,                                   &",
                   "QKE, SFCEVP,GRDFLX,":"                lu_state,                                       &\n                julday,                                         &\n                cen_lat,                                        &\n                landusef_SUEWS,                                 &\n                alb_SUEWS,                                      &\n                emis_SUEWS,                                     &\n                qn1_av_SUEWS,                                   &\n                qn1_s_SUEWS,                                    &\n                dqndt_SUEWS,                                    &\n                dqnsdt_SUEWS,                                   &",
                   "USE module_sf_slab":"   USE module_sf_suews",
                   "   REAL,     DIMENSION( ims:ime , kms:kme , jms:jme ) , INTENT(INOUT), OPTIONAL :: QKE":"   REAL,OPTIONAL,DIMENSION( : ),INTENT(INOUT)                               :: lu_state\n   INTEGER, INTENT(IN)                                                      :: julday\n   REAL, INTENT(IN)                                                         :: cen_lat\n   REAL,OPTIONAL,DIMENSION(ims:ime,7,jms:jme),INTENT(INOUT)                 :: landusef_SUEWS\n   REAL,OPTIONAL,DIMENSION(ims:ime,7,jms:jme),INTENT(INOUT)                 :: alb_SUEWS\n   REAL,OPTIONAL,DIMENSION(ims:ime,7,jms:jme),INTENT(INOUT)                 :: emis_SUEWS\n   REAL,OPTIONAL,DIMENSION(ims:ime,jms:jme),INTENT(INOUT)                   :: qn1_av_SUEWS\n   REAL,OPTIONAL,DIMENSION(ims:ime,jms:jme),INTENT(INOUT)                   :: qn1_s_SUEWS\n   REAL,OPTIONAL,DIMENSION(ims:ime,jms:jme),INTENT(INOUT)                   :: dqndt_SUEWS,dqnsdt_SUEWS",
                   "   sfc_select: SELECT CASE(config_flags%sf_surface_physics)":"      CASE (SUEWSSCHEME)\n          call wrf_debug(100, 'before calling suewsinit')\n           CALL suewsinit(                                     &\n                         lu_state,                             &\n                         MMINLU,                               &\n                         julday,                               &\n                         cen_lat,                              &\n                         NLCAT,                                &\n                         landusef,                             &\n                         landusef_SUEWS,                       &\n                         alb_SUEWS,                            &\n                         emis_SUEWS,                           &\n                         qn1_av_SUEWS,                         &\n                         qn1_s_SUEWS,                          &\n                         dqndt_SUEWS,  dqnsdt_SUEWS,           &\n                         restart, allowed_to_read,             &\n                         ids, ide, jds, jde, kds, kde,         &\n                         ims, ime, jms, jme, kms, kme,         &\n                         its, ite, jts, jte, kts, kte          )"
        }
    },

    "module_first_rk_step_part1.F":{
        "filePath": "./WRF/dyn_em/",
        "query" :{ "ACGRDFLX=grid%acgrdflx  ,ACHFX=grid%achfx        ,ACLHF=grid%aclhf":"     &                                 ,DT_prev=grid%dt_prev                         &",
                   "! end of CLM variables":"\n! variables for SUEWS: START\n     &        ,year=yr, day_int=day, hour=hr, minute=minute, second=sec             &\n     &        ,LAI_SUEWS=grid%LAI_SUEWS                                             &\n     &        ,albDecTr_SUEWS=grid%albDecTr_SUEWS                                   &\n     &        ,albEveTr_SUEWS=grid%albEveTr_SUEWS                                   &\n     &        ,albGrass_SUEWS=grid%albGrass_SUEWS                                   &\n     &        ,DecidCap_SUEWS=grid%DecidCap_SUEWS                                   &\n     &        ,porosity_SUEWS=grid%porosity_SUEWS                                   &\n     &        ,GDD_SUEWS=grid%GDD_SUEWS                                             &\n     &        ,HDD_SUEWS=grid%HDD_SUEWS                                             &\n     &        ,state_SUEWS=grid%state_SUEWS                                         &\n     &        ,soilmoist_SUEWS=grid%soilmoist_SUEWS                                 &\n     &        ,surf_var_SUEWS=grid%surf_var_SUEWS                                   &\n     &        ,landusef_SUEWS=grid%landusef_SUEWS                                   &\n     &        ,alb_SUEWS=grid%alb_SUEWS                                             &\n     &        ,QN_SUEWS=grid%QN_SUEWS                                               &\n     &        ,AH_SUEWS=grid%AH_SUEWS                                               &\n     &        ,emis_SUEWS=grid%emis_SUEWS                                           &\n     &        ,qn1_av_SUEWS=grid%qn1_av_SUEWS                                       &\n     &        ,qn1_s_SUEWS=grid%qn1_s_SUEWS                                         &\n     &        ,dqndt_SUEWS=grid%dqndt_SUEWS                                         &\n     &        ,dqnsdt_SUEWS=grid%dqnsdt_SUEWS                                       &\n     &        ,MeltWaterStore=grid%MeltWaterStore                                   &\n     &        ,SnowAlb=grid%SnowAlb                                                 &\n     &        ,WUDay=grid%WUDay                                                     &\n     &        ,z0m_in=grid%z0m_in                                                   &\n     &        ,zdm_in=grid%zdm_in                                                   &\n! variables for SUEWS: End"
        }
    },

    "module_surface_driver.F":{
        "filePath": "./WRF/phys/",
        "query" :{ "acgrdflx,achfx,aclhf":"     &                      ,dt_prev                                  &",
                   "            !  Optional urban":"     &          ,year, day_int, hour, minute, second                  &\n     &          ,LAI_SUEWS                                            &\n     &          ,albDecTr_SUEWS                                       &\n     &          ,albEveTr_SUEWS                                       &\n     &          ,albGrass_SUEWS                                       &\n     &          ,DecidCap_SUEWS                                       &\n     &          ,porosity_SUEWS                                       &\n     &          ,GDD_SUEWS                                            &\n     &          ,HDD_SUEWS                                            &\n     &          ,state_SUEWS                                          &\n     &          ,soilmoist_SUEWS                                      &\n     &          ,surf_var_SUEWS                                       &\n     &          ,landusef_SUEWS                                       &\n     &          ,alb_SUEWS                                            &\n     &          ,emis_SUEWS                                           &\n     &          ,QN_SUEWS                                             &\n     &          ,AH_SUEWS                                             &\n     &          ,qn1_av_SUEWS                                         &\n     &          ,qn1_s_SUEWS                                          &\n     &          ,dqndt_SUEWS                                          &\n     &          ,dqnsdt_SUEWS                                         &\n     &          ,MeltWaterStore                                       &\n     &          ,SnowAlb                                              &\n     &          ,WUDay                                                &\n     &          ,z0m_in                                               &\n     &          ,zdm_in                                               &",
                   ",SLABSCHEME":"                                       ,SUEWSSCHEME               &",
                   "USE module_sf_slab":"   USE module_sf_suews",
                   "   REAL, INTENT(IN )::   DT":"   REAL, INTENT(IN )::   DT_PREV",
                   " REAL, DIMENSION( ims:ime, jms:jme ), OPTIONAL, INTENT(IN):: diffuse_frac":"   INTEGER, OPTIONAL, INTENT(IN )::   year, day_int, hour, minute, second\n   REAL,OPTIONAL,DIMENSION(ims:ime,3,jms:jme),INTENT(INOUT)                 :: LAI_SUEWS      !LAI for each veg surface [m2 m-2]\n   REAL,OPTIONAL,DIMENSION(ims:ime,jms:jme),INTENT(INOUT)                   :: albDecTr_SUEWS !Albedo of deciduous trees [-]\n   REAL,OPTIONAL,DIMENSION(ims:ime,jms:jme),INTENT(INOUT)                   :: albEveTr_SUEWS !Albedo of evergreen trees [-]\n   REAL,OPTIONAL,DIMENSION(ims:ime,jms:jme),INTENT(INOUT)                   :: albGrass_SUEWS !Albedo of grass[-]\n   REAL,OPTIONAL,DIMENSION(ims:ime,jms:jme),INTENT(INOUT)                   :: DecidCap_SUEWS !Storage capacity of deciduous trees [mm]\n   REAL,OPTIONAL,DIMENSION(ims:ime,jms:jme),INTENT(INOUT)                   :: porosity_SUEWS !Porosity of deciduous trees [-]\n   REAL,OPTIONAL,DIMENSION(ims:ime,5,jms:jme),INTENT(INOUT)                 :: GDD_SUEWS      !Growing Degree Days (see SUEWS_DailyState.f95)\n   REAL,OPTIONAL,DIMENSION(ims:ime,12,jms:jme),INTENT(INOUT)                :: HDD_SUEWS      !Growing Degree Days (see SUEWS_DailyState.f95)\n   REAL,OPTIONAL,DIMENSION(ims:ime,7,jms:jme),INTENT(INOUT)                 :: state_SUEWS\n   REAL,OPTIONAL,DIMENSION(ims:ime,7,jms:jme),INTENT(INOUT)                 :: soilmoist_SUEWS\n   REAL,OPTIONAL,DIMENSION(ims:ime,7,jms:jme),INTENT(INOUT)                 :: surf_var_SUEWS\n   REAL,OPTIONAL,DIMENSION(ims:ime,7,jms:jme),INTENT(INOUT)                 :: landusef_SUEWS\n   REAL,OPTIONAL,DIMENSION(ims:ime,7,jms:jme),INTENT(INOUT)                 :: alb_SUEWS\n   REAL,OPTIONAL,DIMENSION(ims:ime,7,jms:jme),INTENT(INOUT)                 :: emis_SUEWS\n   REAL,OPTIONAL,DIMENSION(ims:ime,jms:jme),INTENT(INOUT)                   :: QN_SUEWS\n   REAL,OPTIONAL,DIMENSION(ims:ime,jms:jme),INTENT(INOUT)                   :: ah_SUEWS\n   REAL,OPTIONAL,DIMENSION(ims:ime,jms:jme),INTENT(INOUT)                   :: qn1_av_SUEWS\n   REAL,OPTIONAL,DIMENSION(ims:ime,jms:jme),INTENT(INOUT)                   :: qn1_s_SUEWS\n   REAL,OPTIONAL,DIMENSION(ims:ime,jms:jme),INTENT(INOUT)                   :: dqndt_SUEWS\n   REAL,OPTIONAL,DIMENSION(ims:ime,jms:jme),INTENT(INOUT)                   :: dqnsdt_SUEWS\n   REAL,OPTIONAL,DIMENSION(ims:ime,7,jms:jme),INTENT(INOUT)                 :: MeltWaterStore\n   REAL,OPTIONAL,DIMENSION(ims:ime,jms:jme),INTENT(INOUT)                   :: SnowAlb\n   REAL,OPTIONAL,DIMENSION(ims:ime,9,jms:jme),INTENT(INOUT)                 :: WUDay\n   REAL,OPTIONAL,DIMENSION(ims:ime,jms:jme),INTENT(INOUT)                   :: z0m_in\n   REAL,OPTIONAL,DIMENSION(ims:ime,jms:jme),INTENT(INOUT)                   :: zdm_in",
                   "     sfc_select: SELECT CASE(sf_surface_physics)":"     CASE (SUEWSSCHEME)\n       IF (PRESENT(qv_curr)                            .AND.    &\n           PRESENT(capg)        .AND.    &\n                                                      .TRUE. ) THEN\n           DO j=j_start(ij),j_end(ij)\n           DO i=i_start(ij),i_end(ij)\n     !          CQS2 ACCOUNTS FOR MAVAIL FOR SFCDIAGS 2M Q\n              CQS2(I,J)= CQS2(I,J)*MAVAIL(I,J)\n           ENDDO\n           ENDDO\n           IF ( FRACTIONAL_SEAICE == 1 ) THEN\n              CALL wrf_error_fatal('SUEWS scheme cannot be used with fractional seaice')\n           ENDIF\nWRITE( message,* ) ' calling suewsdrv',sf_surface_physics\ncall wrf_debug(100, message)\n          CALL suewsdrv(year, day_int, hour, minute, second, xtime, &\n             t_phy, qv_curr, p8w, u_phy, v_phy, dz8w, swdown,      &\n             psfc, rainbl, ht,                                     &\n             QN_SUEWS,AH_SUEWS, grdflx, hfx, qfx, lh, tsk, qsfc, chklowq,                     &\n             LAI_SUEWS,                                            &\n             albDecTr_SUEWS,                                       &\n             albEveTr_SUEWS,                                       &\n             albGrass_SUEWS,                                       &\n             DecidCap_SUEWS,                                       &\n             porosity_SUEWS,                                       &\n             GDD_SUEWS,                                            &\n             HDD_SUEWS,                                            &\n             state_SUEWS,                                          &\n             soilmoist_SUEWS,                                      &\n             surf_var_SUEWS,                                       &\n             landusef_SUEWS,                                       &\n             alb_SUEWS,                                            &\n             emis_SUEWS,                                           &\n             qn1_av_SUEWS,                                         &\n             qn1_s_SUEWS,                                          &\n             dqndt_SUEWS,                                          &\n             dqnsdt_SUEWS,                                         &\n             MeltWaterStore,                                       &\n             SnowAlb,                                              &\n             WUDay,                                                &\n             z0m_in,                                               &\n             zdm_in,                                               &\n             XLONG, XLAT, DT, DT_PREV, DX,                         &\n             ids,ide, jds,jde, kds,kde,                            &\n             ims,ime, jms,jme, kms,kme,                            &\n             i_start(ij),i_end(ij), j_start(ij),j_end(ij), kts, kte)\n\n           DO j=j_start(ij),j_end(ij)\n           DO i=i_start(ij),i_end(ij)\n              SFCEVP(I,J)= SFCEVP(I,J) + QFX(I,J)*DTBL\n              IF(PRESENT(ACHFX))ACHFX(I,J)=ACHFX(I,J) + HFX(I,J)*DT\n              IF(PRESENT(ACLHF))ACLHF(I,J)=ACLHF(I,J) + LH(I,J)*DT\n           ENDDO\n           ENDDO\n\n        CALL wrf_debug(100,'in SFCDIAGS')\n          CALL SFCDIAGS(hfx,qfx,tsk,qsfc,chs2,cqs2,t2,th2,q2,      &\n                     psfc,cp,r_d,rcp,CHS,t_phy,qv_curr,ua_phys,    &\n                     ids,ide, jds,jde, kds,kde,                    &\n                     ims,ime, jms,jme, kms,kme,                    &\n             i_start(ij),i_end(ij), j_start(ij),j_end(ij), kts,kte    )\n       ENDIF"
        }
    },

    "Makefile":{
        "filePath": "./WRF/phys/",
        "query" :{ "module_sf_slab.o":"        module_sf_suews.o  \\",
                   "module_sf_gfdl.o":"        module_sf_suewsdrv.o  \\"
        }
    },

    "depend.common":{
        "filePath": "./WRF/main/",
        "query" :{ "# DEPENDENCIES for phys":"module_sf_suews.o: module_sf_suewsdrv.o",
                   "module_sf_slab.o":"        module_sf_suews.o   \\"
        }
    }     

} 

 















































